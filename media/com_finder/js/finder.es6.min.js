((e,t,r,s)=>{"use strict";if(!t)throw new Error("core.js was not properly initialised");const o=e=>{e.target.value.length>1&&(e.target.awesomplete.list=[],t.request({url:`${t.getOptions("finder-search").url}&q=${e.target.value}`,method:"GET",data:{q:e.target.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:t=>{const r=JSON.parse(t);"[object Array]"===Object.prototype.toString.call(r.suggestions)&&(e.target.awesomplete.list=r.suggestions)},onError:e=>{e.status>0&&t.renderMessages(t.ajaxErrorsMessages(e))}}))},a=e=>{e.stopPropagation();const t=e.target.querySelector(".js-finder-advanced");if(t.length){[].slice.call(t.querySelectorAll("select")).forEach(e=>{e.value||e.setAttribute("disabled","disabled")})}},n=()=>{[].slice.call(s.querySelectorAll(".js-finder-search-query")).forEach(r=>{t.getOptions("finder-search")&&(r.awesomplete=new e(r),r.addEventListener("keyup",o))}),[].slice.call(s.querySelectorAll(".js-finder-searchform")).forEach(e=>{e.addEventListener("submit",a)}),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n)})(window.Awesomplete,window.Joomla,window,document);