var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r){"use strict";if(!e)throw new Error("core.js was not properly initialised");e.finderIndexer=function(){var t=void 0,n=null,o=null,s=null,i=!1,a="&"+r.getElementById("finder-indexer-token").getAttribute("name")+"=1",d=function(e){var t=r.getElementById(e);return t?t.parentNode.removeChild(t):null},l=function(a,l){var f=r.getElementById("finder-progress-header"),u=r.getElementById("finder-progress-message");try{if(null===a)throw new Error(l);if(a.error)throw new Error(a);a.start&&(n=a.totalItems),o+=a.batchOffset,function(e,t){s=o/n*100;var i=r.getElementById("progress-bar"),a=r.getElementById("finder-progress-header"),d=r.getElementById("finder-progress-message");a&&(a.innerText=e),d&&(d.innerHTML=t),i&&(s<100?(i.style.width=s+"%",i.setAttribute("aria-valuenow",s)):(i.classList.remove("bar-success"),i.classList.add("bar-warning"),i.setAttribute("aria-valuemin",100),i.setAttribute("aria-valuemax",200),i.style.width=s+"%",i.setAttribute("aria-valuenow",s)))}(a.header,a.message),o<n?t("indexer.batch"):i||(i=!0,t("indexer.optimize"))}catch(r){d("progress");try{a.error&&(f&&(f.innerText=a.header,f.classList.add("finder-error")),u&&(u.innerHTML=a.message,u.classList.add("finder-error")))}catch(t){""===r&&(r=e.JText._("COM_FINDER_NO_ERROR_RETURNED")),f&&(f.innerText=e.JText._("COM_FINDER_AN_ERROR_HAS_OCCURRED"),f.classList.add("finder-error")),u&&(u.innerHTML=r,u.classList.add("finder-error"))}}return!0};o=0,s=0,(t=function(t){e.request({url:"index.php?option=com_finder&tmpl=component&format=json&task="+t+a,method:"GET",data:"",perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(e){l(JSON.parse(e))},onError:function(t){!function(t){var n=r.getElementById("finder-progress-header"),o=r.getElementById("finder-progress-message"),s="object"===(void 0===t?"undefined":_typeof(t))&&t.responseText?t.responseText:null;s=s?JSON.parse(s):null,d("progress"),s&&(s=null!==s.responseText?s.evaluate(s.responseText,!0):s);var i=s?s.header:e.JText._("COM_FINDER_AN_ERROR_HAS_OCCURRED"),a=s?s.message:e.JText._("COM_FINDER_MESSAGE_RETURNED")+"<br>"+s;n&&(n.innerText=i,n.classList.add("finder-error")),o&&(o.innerHTML=a,o.classList.add("finder-error"))}(t)}})})("indexer.start")}}(Joomla,document),document.addEventListener("DOMContentLoaded",function(){window.Indexer=Joomla.finderIndexer()});
