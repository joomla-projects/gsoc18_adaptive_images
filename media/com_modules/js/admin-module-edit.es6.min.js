Joomla=window.Joomla||{},(e=>{"use strict";e.submitbutton=(n=>{if("module.cancel"===n||document.formvalidator.isValid(document.getElementById("module-form"))){e.submitform(n,document.getElementById("module-form"));const s=e.getOptions("module-edit");if(window.self!==window.top&&window.parent.viewLevels){const n=window.jQuery("#jform_position").chosen().val(),a=document.getElementById("jform_title").value,t=document.querySelector("#jform_assignment").value,i=document.querySelector("#jform_published").value,o=document.querySelector("#jform_access").value,d=window.parent.document.getElementById(`menus-${s.itemId}`),l=window.parent.document.getElementById(`tr-${s.itemId}`),c=window.parent.document.getElementById(`status-${s.itemId}`);window.parent.inMenus=[],window.parent.numMenus=[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).length,[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).forEach(e=>{t>0&&e.checked&&window.parent.inMenus.push(parseInt(e.value,10)),t<0&&(e.checked||window.parent.inMenus.push(parseInt(e.value,10)))}),"-"===t&&(d.innerHTML=`<span class="badge badge-danger">${e.JText._("JNO")}</span>`,l.classList.contains("no")&&0!==l.classList.length||l.classList.add("no")),0===parseInt(t,10)&&(d.innerHTML=`<span class="badge badge-info">${e.JText._("JALL")}</span>`,l.classList.contains("no")&&l.classList.remove("no")),parseInt(t,10)>0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(d.innerHTML=`<span class="badge badge-info">${e.JText._("JALL")}</span>`,(l.classList.contains("no")||0===l.classList.length)&&l.classList.remove("no")):(d.innerHTML=`<span class="badge badge-success">${e.JText._("JYES")}</span>`,l.classList.contains("no")&&l.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(d.innerHTML=`<span class="badge badge-danger">${e.JText._("JNO")}</span>`,l.classList.contains("no")||l.classList.add("no"))),parseInt(t,10)<0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(d.innerHTML=`<span class="badge badge-info">${e.JText._("JALL")}</span>`,l.classList.contains("no")&&l.classList.remove("no")):(d.innerHTML=`<span class="badge badge-success">${e.JText._("JYES")}</span>`,l.classList.contains("no")&&l.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(d.innerHTML=`<span class="badge badge-danger">${e.JText._("JNO")}</span>`,l.classList.contains("no")&&0!==l.classList.length||l.classList.add("no"))),1===parseInt(i,10)&&(c.innerHTML=`<span class="badge badge-success">${e.JText._("JYES")}</span>`,l.classList.contains("unpublished")&&l.classList.remove("unpublished")),0===parseInt(i,10)&&(c.innerHTML=`<span class="badge badge-danger">${e.JText._("JNO")}</span>`,l.classList.contains("unpublished")&&0!==l.classList.length||l.classList.add("unpublished")),-2===parseInt(i,10)&&(c.innerHTML=`<span class="badge badge-default">${e.JText._("JTRASHED")}</span>`,l.classList.contains("unpublished")&&0!==l.classList.length||l.classList.add("unpublished")),document.formvalidator.isValid(document.getElementById("module-form"))&&(window.parent.document.querySelector(`#title-${s.itemId}`).innerText=a,window.parent.document.querySelector(`#position-${s.itemId}`).innerText=n,window.parent.document.querySelector(`#access-${s.itemId}`).innerHTML=window.parent.viewLevels[o])}"module.apply"!==n&&window.parent.Joomla.Modal.getCurrent().close()}})})(Joomla);