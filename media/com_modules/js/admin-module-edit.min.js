Joomla=window.Joomla||{},function(e){"use strict";e.submitbutton=function(n){if("module.cancel"===n||document.formvalidator.isValid(document.getElementById("module-form"))){e.submitform(n,document.getElementById("module-form"));var s=e.getOptions("module-edit");if(window.self!==window.top&&window.parent.viewLevels){var a=window.jQuery("#jform_position").chosen().val(),t=document.getElementById("jform_title").value,i=document.querySelector("#jform_assignment").value,o=document.querySelector("#jform_published").value,d=document.querySelector("#jform_access").value,l=window.parent.document.getElementById("menus-"+s.itemId),c=window.parent.document.getElementById("tr-"+s.itemId),r=window.parent.document.getElementById("status-"+s.itemId);window.parent.inMenus=[],window.parent.numMenus=[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).length,[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).forEach(function(e){i>0&&e.checked&&window.parent.inMenus.push(parseInt(e.value,10)),i<0&&(e.checked||window.parent.inMenus.push(parseInt(e.value,10)))}),"-"===i&&(l.innerHTML='<span class="badge badge-danger">'+e.JText._("JNO")+"</span>",c.classList.contains("no")&&0!==c.classList.length||c.classList.add("no")),0===parseInt(i,10)&&(l.innerHTML='<span class="badge badge-info">'+e.JText._("JALL")+"</span>",c.classList.contains("no")&&c.classList.remove("no")),parseInt(i,10)>0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(l.innerHTML='<span class="badge badge-info">'+e.JText._("JALL")+"</span>",(c.classList.contains("no")||0===c.classList.length)&&c.classList.remove("no")):(l.innerHTML='<span class="badge badge-success">'+e.JText._("JYES")+"</span>",c.classList.contains("no")&&c.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(l.innerHTML='<span class="badge badge-danger">'+e.JText._("JNO")+"</span>",c.classList.contains("no")||c.classList.add("no"))),parseInt(i,10)<0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(l.innerHTML='<span class="badge badge-info">'+e.JText._("JALL")+"</span>",c.classList.contains("no")&&c.classList.remove("no")):(l.innerHTML='<span class="badge badge-success">'+e.JText._("JYES")+"</span>",c.classList.contains("no")&&c.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(l.innerHTML='<span class="badge badge-danger">'+e.JText._("JNO")+"</span>",c.classList.contains("no")&&0!==c.classList.length||c.classList.add("no"))),1===parseInt(o,10)&&(r.innerHTML='<span class="badge badge-success">'+e.JText._("JYES")+"</span>",c.classList.contains("unpublished")&&c.classList.remove("unpublished")),0===parseInt(o,10)&&(r.innerHTML='<span class="badge badge-danger">'+e.JText._("JNO")+"</span>",c.classList.contains("unpublished")&&0!==c.classList.length||c.classList.add("unpublished")),-2===parseInt(o,10)&&(r.innerHTML='<span class="badge badge-default">'+e.JText._("JTRASHED")+"</span>",c.classList.contains("unpublished")&&0!==c.classList.length||c.classList.add("unpublished")),document.formvalidator.isValid(document.getElementById("module-form"))&&(window.parent.document.querySelector("#title-"+s.itemId).innerText=t,window.parent.document.querySelector("#position-"+s.itemId).innerText=a,window.parent.document.querySelector("#access-"+s.itemId).innerHTML=window.parent.viewLevels[d])}"module.apply"!==n&&window.parent.Joomla.Modal.getCurrent().close()}}}(Joomla);
