(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=[].slice.call(document.querySelectorAll(".folder-url, .component-folder-url, .layout-folder-url")),l=[].slice.call(document.querySelectorAll(".folder ul, .component-folder ul, .layout-folder ul")),t=[].slice.call(document.querySelectorAll(".show > ul")),c=[].slice.call(document.querySelectorAll("#fileModal .folder-url")),o=[].slice.call(document.querySelectorAll("#folderModal .folder-url"));l.forEach(e=>{e.style.display="none"}),t.forEach(e=>{e.style.display="block"}),e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const l=e.target.parentNode.querySelector("ul");"none"!==l.style.display?l.style.display="none":l.style.display="block"})}),c.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),c.forEach(e=>{e.classList.remove("selected")}),e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#fileModal input.address")).forEach(l=>{l.value=e.target.getAttribute("data-id")})})}),o.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),o.forEach(e=>{e.classList.remove("selected")}),e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#folderModal input.address")).forEach(l=>{l.value=e.target.getAttribute("data-id")})})});const a=document.querySelector("#treeholder .treeselect"),d=[].slice.call(a.querySelectorAll(".folder.show"));if(document.querySelector("p.lead.hidden.path")){let e=document.querySelector("p.lead.hidden.path").innerText;if(e&&"/"===e.charAt(0)){e=(e=(e=e.slice(1)).split("/"))[e.length-1];const l=new RegExp(e);d.forEach((e,t)=>{if(e.querySelector("a").classList.add("active"),t===d.length-1){const t=e.querySelector("ul");[].slice.call(t.querySelectorAll("li")).forEach(e=>{const t=e.querySelector("a"),c=t.querySelector("span");c&&l.test(c.innerText)&&t.classList.add("active")})}})}}const r=document.getElementById("image-crop");if(r){const e=document.getElementById("imageWidth").value,l=document.getElementById("imageHeight").value;new window.Cropper(r,{viewMode:0,scalable:!0,zoomable:!0,minCanvasWidth:e,minCanvasHeight:l}),r.addEventListener("crop",e=>{document.getElementById("x").value=e.detail.x,document.getElementById("y").value=e.detail.y,document.getElementById("w").value=e.detail.width,document.getElementById("h").value=e.detail.height})}})})();