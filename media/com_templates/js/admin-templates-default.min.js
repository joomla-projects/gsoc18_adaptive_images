!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".folder-url, .component-folder-url, .layout-folder-url")),t=[].slice.call(document.querySelectorAll(".folder ul, .component-folder ul, .layout-folder ul")),l=[].slice.call(document.querySelectorAll(".show > ul")),c=[].slice.call(document.querySelectorAll("#fileModal .folder-url")),o=[].slice.call(document.querySelectorAll("#folderModal .folder-url"));t.forEach(function(e){e.style.display="none"}),l.forEach(function(e){e.style.display="block"}),e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.parentNode.querySelector("ul");"none"!==t.style.display?t.style.display="none":t.style.display="block"})}),c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),c.forEach(function(e){e.classList.remove("selected")}),e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#fileModal input.address")).forEach(function(t){t.value=e.target.getAttribute("data-id")})})}),o.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),o.forEach(function(e){e.classList.remove("selected")}),e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#folderModal input.address")).forEach(function(t){t.value=e.target.getAttribute("data-id")})})});var a=document.querySelector("#treeholder .treeselect"),n=[].slice.call(a.querySelectorAll(".folder.show"));if(document.querySelector("p.lead.hidden.path")){var r=document.querySelector("p.lead.hidden.path").innerText;if(r&&"/"===r.charAt(0)){r=(r=(r=r.slice(1)).split("/"))[r.length-1];var d=new RegExp(r);n.forEach(function(e,t){if(e.querySelector("a").classList.add("active"),t===n.length-1){var l=e.querySelector("ul");[].slice.call(l.querySelectorAll("li")).forEach(function(e){var t=e.querySelector("a"),l=t.querySelector("span");l&&d.test(l.innerText)&&t.classList.add("active")})}})}}var i=document.getElementById("image-crop");if(i){var u=document.getElementById("imageWidth").value,s=document.getElementById("imageHeight").value;new window.Cropper(i,{viewMode:0,scalable:!0,zoomable:!0,minCanvasWidth:u,minCanvasHeight:s}),i.addEventListener("crop",function(e){document.getElementById("x").value=e.detail.x,document.getElementById("y").value=e.detail.y,document.getElementById("w").value=e.detail.width,document.getElementById("h").value=e.detail.height})}})}();
