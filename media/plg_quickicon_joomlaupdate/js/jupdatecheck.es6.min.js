((e,t,s)=>{"use strict";const n=()=>{const n=s.getOptions("js-joomla-update"),o=t.getElementById("plg_quickicon_joomlaupdate"),a=[].slice.call(o.querySelectorAll("span.j-links-link"));s.request({url:`${n.ajaxUrl}&eid=700&cache_timeout=3600`,method:"GET",data:"",perform:!0,onSuccess:t=>{const r=JSON.parse(t);if(r instanceof Array)if(0===r.length)o.classList.add("success"),a.forEach(e=>{e.innerHTML=s.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE")});else{if(r.shift().version!==n.version){const t={message:[`Joomla.JText._('PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND_MESSAGE').replace("%s", '<span class="badge badge-light">${r.length}</span>')`+`<button class="btn btn-primary" onclick="document.location='${n.url}'">`+`${s.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND_BUTOON")}</button>`],error:["info"]};s.renderMessages(t),e.scrollTo(0,0),o.classList.add("danger"),a.forEach(e=>{e.innerHTML=s.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-light">}${r.length}</span>`)})}else a.forEach(e=>{e.innerHTML=s.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE")})}else o.classList.add("danger"),a.forEach(e=>{e.innerHTML=s.JText._("PLG_QUICKICON_JOOMLAUPDATE_ERROR")})},onError:()=>{o.classList.add("danger"),a.forEach(e=>{e.innerHTML=s.JText._("PLG_QUICKICON_JOOMLAUPDATE_ERROR")})}})},o=()=>{if(!s||"function"!=typeof s.getOptions||!s.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(n,2e3),t.removeEventListener("DOMContentLoaded",o)};t.addEventListener("DOMContentLoaded",o)})(window,document,Joomla);