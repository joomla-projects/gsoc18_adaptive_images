!function(e,n,t){"use strict";var o=function(){var o=t.getOptions("js-joomla-update"),a=n.getElementById("plg_quickicon_joomlaupdate"),s=[].slice.call(a.querySelectorAll("span.j-links-link"));t.request({url:o.ajaxUrl+"&eid=700&cache_timeout=3600",method:"GET",data:"",perform:!0,onSuccess:function(n){var i=JSON.parse(n);if(i instanceof Array)if(0===i.length)a.classList.add("success"),s.forEach(function(e){e.innerHTML=t.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE")});else if(i.shift().version!==o.version){var r={message:['Joomla.JText._(\'PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND_MESSAGE\').replace("%s", \'<span class="badge badge-light">'+i.length+'</span>\')<button class="btn btn-primary" onclick="document.location=\''+o.url+"'\">"+t.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND_BUTOON")+"</button>"],error:["info"]};t.renderMessages(r),e.scrollTo(0,0),a.classList.add("danger"),s.forEach(function(e){e.innerHTML=t.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",'<span class="badge badge-light">}'+i.length+"</span>")})}else s.forEach(function(e){e.innerHTML=t.JText._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE")});else a.classList.add("danger"),s.forEach(function(e){e.innerHTML=t.JText._("PLG_QUICKICON_JOOMLAUPDATE_ERROR")})},onError:function(){a.classList.add("danger"),s.forEach(function(e){e.innerHTML=t.JText._("PLG_QUICKICON_JOOMLAUPDATE_ERROR")})}})};n.addEventListener("DOMContentLoaded",function e(){if(!t||"function"!=typeof t.getOptions||!t.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(o,2e3),n.removeEventListener("DOMContentLoaded",e)})}(window,document,Joomla);
